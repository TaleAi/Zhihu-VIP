## 25.迈出看似简单的一步：字面量，常量，变量和赋值
本节课，我们要介绍几个高级编程语言中和操作数据相关的基础概念。


编程语言表述的每一个数据都有一个名字，这样，当我们才能在程序中操作它。


数据的名字也分为好几种类型：字面量、常量和变量。我们先来分别了解一下：


字面量
---


字面量（也叫直接量）：它是某些数据的名字，同时也是这些数据本身。


换言之，**字面量的表示（名字）就是它的值**，并且直接暴露它所属于的数据类型。


它们在程序里面直接就写成这个样子，本身就是一个数据值。


Python 的字面量有几大类：


  



![img](https://pic1.zhimg.com/v2-2cb2af9071cb81aecc19e14d56c1c660.webp)

* 

布尔型（Boolean）


只有两个值：True（真）或 False（假）


* 

特殊型（Special）


这类字面量总共只有一个值：None，表示不存在


* 

数字型（Number）


整型、实型数值


例如：-1, 32, 76.85, 23e10, ……


* 

字符串型（String）


字符或者字符串 


例如：『s』, 『?』, 「star」, 「hello world」，……


* 

Collections 


Python 中的 Collections 型数据又分为多种子类型，包括：列表、元组、字典和集合。它们都是把一系列数据组合起来，每个数据成为了它们的一个元素，如果其中的元素是字面量，它们自己也就是字面量了。


例如：['Python', 'JS', 'C#']，(1, 2, 3)，{'m': 'marshmellow', 'n': 'nougat', 'o': 'oreo'}，{'o', 'e', 'u', 'i', 'a'}，……


标识符
---


字面量的名字和取值是合为一体的，与之相对，常量和变量的名字和取值是相互分离的。


在编程语言中，程序员可以自己选用一个具有特定含义的词或者符号，规定该词或符号代表某一个数据，这个词或符号被称作**标识符（identifier）**，就是该数据的名字。


也就是说，这个名字是程序员给这个数据取的，叫什么都可以。当然，不同编程语言对于标识符的要求不同：


* 

C 语言规定：由字母（A-Z,a-z）、数字（0-9）、下划线「\_」组成，并且首字符不能是数字，但可以是字母或者下划线；


* 

Java 和 Python 语言的规定与 C 基本相同；


* 

不过 Java 增加了美元符号$作为标识符组成；


* 

而 Python 则对下划线有专门规定：


1. 

以单下划线开头（\_foo）的代表不能直接访问的类属性，需通过类提供的接口进行访问，不能用「from xxx import \*」导入；


1. 

以双下划线开头的（\_\_foo）代表类的私有成员；


1. 

以双下划线开头和结尾的（\_ *foo****）代表 Python 里特殊方法专用的标识，如\****init\_*() 代表类的构造函数。


一般来说，一个数据的标识符最好采用能够表达该数据意义的单词作为名字。


数据和它的标识符（名字）
------------


好好的数据，直接拿来用不就得了？还非要给它起个名字干嘛？


  



![img](https://pic4.zhimg.com/v2-06613532b9353e5a43bbabe504e4f904.webp)

简单来说，给数据起名主要有几个原因：


* 

**【Reason 1】** 在我们编写这个程序的时候，这个数据的值具体是多少，我们还不知道呢。



>   
> 


比如：我们写一个计算房间面积的程序，需要有房屋的长和宽数据，只要知道了长和宽，拿它们相乘一下，就是面积值了。 


`但是这个时候，长和宽的具体值是什么？是长 5 米宽 3 米还是长 10 米宽 7 米？我们还不知道，具体的值可能需要等到程序运行起来后才能得到。`


这个时候，我们可以先用一个标识符（名字）代替未来才能知道的具体数值，进行后面的计算操作。


* 

**【Reason 2】**某一个标识符对应的值，在程序运行的过程中是在不断变化的。


某一个数据随着对它操作的过程，不停地在改变着具体的数值，但是对应的含义却没有改变。



>   
> 


`比如：某个小学按班级计算数学课总分，老师在统计的时候，把已经判好的试卷得分一个个加起来。  

  

一年级一班昨天总共判了 20 张卷子，那么当时的总分就是这 20 张卷子的和。今天又多判了 10 张，那么现在的总分就要加上新判出来的卷面分。`


在这两天的计算过程中，总分这个数值是在不停变化的，但是它对应的含义并没有改变。


* 

**【Reason 3】** 一个数据值我们从头到尾都知道，而且在程序的一次运行过程中都不会变，但是这个数值有着特殊的含义，或者在不同次的运行过程中有可能改变取值。这样，我们给它取一个特殊的名字，一则表明含义，二则也适合做修改。



>   
> 


`比如：一个小学统计每个同学的期末考试分数。忽然发现今年题出得太难了，大家都得分很低，怎么办呢，不如给每个人加 20% 的分数吧。于是我们给每位学生的期末分数都乘以 1.2。  

  

我们当然可以把这个 1.2 写到程序里面，但是这样做以后容易想不起来这个 1.2 是干什么的，而且要改的话还要到程序里面去找，很不方便。`


我们可以在程序一开头的地方就给它取个名字（比如叫 score\_rate)。这样，看起来有意义，以后想改，就直接修改程序文件开头部分，不用到一堆纷乱的代码中去翻找了。


变量和赋值
-----


### 变量


**变量**是一个有类型，但没有固定值的标识符，它可以代表该类型内的任何值。它的值可以随时改变，改变变量值的过程，就叫做**赋值**。


下面这行 Python 代码是一个变量和赋值的例子：


`result =1`


它所表达的含义就是把 1 这个整型数值**赋给**了 result 这个标识符。这行结束后，result 这个标识符作为名字的**变量**的值就变成了 1。


程序继续对 result 变量进行操作：


`for num in range(1, 101):  

    result *=  num`


上面两行语句中的第二行：result \*= num 也是赋值语句。


这么写有点令人困惑，其实它是 result = result \* num 的简略写法，意思就是先用原本的 result 变量的值和 num 变量的值相乘，然后将得到的积再赋给 result 变量。


这里的 num 是另一个变量，其值从 1 开始，每次循环递增 1，直到 100 为止。对 num 的赋值是在循环语句（for 开头的那行）中进行的，这个涉及到控制流程后面会讲。


### 直观看变量名、变量值和赋值


这么说好像有点晕，但是只要我们搞清楚变量名（标识符）、变量值和赋值真正的含义，就明白了。


前面反复说了，所有数据最终都是存储在存储单元里的，每一个数据都有它所在存储单元的地址，存储单元相当于货架，地址是货架上的编号，而数据则是货架上的货物。


  



![img](https://pic1.zhimg.com/v2-b2032b7663e06b57772383e18746ed4d.webp)

变量名、变量值则与存储单元地址和存储内容一一对应：


* 

**变量名（标识符）**就是存储单元地址（货架编号）的文字化表达；


* 

**变量值**则是存储在该单元里面的内容（放在货架上的货物）；


* 

**赋值**就是把货物放到货架上的过程！


### 赋值符号


在高级编程语言中，赋值操作都通过赋值符号来实现，赋值符号大多很简单。


**在 C，Java 和 Python（以及其他很多语言中），赋值符号就是等号「=」。**


当然也有一些语言的赋值符号稍微复杂一些（比如在 PASCAL 中就是冒号加等号 「:=」），这些只需要参照语言的基本语法即可。


用**一个等号「=」作为赋值符号**的语言，普遍**用两个并列的等号「==「表示相等**。这是为了在语义上和赋值区分开。在后面讲到条件判断时，我们会看到例子。


### Python 的赋值语句


以 Python 为例，赋值语句的一般形式主要是： 


`被赋值变量 = 赋值变量  

被赋值变量 = 字面量   

被赋值变量 = 常量`


等号右侧的变量、常量或者字面量将自己当前的值，赋给等号左侧的被赋值变量。赋值语句结束后，被赋值变量就有了一个新的值。


### 变量的多次赋值


在现实世界里，如果我们要放置货物的货架上原本有别的货物，那么我们需要把原货物先卸下来，再放新货物。但在计算机存储的世界里，没这么麻烦，新货物直接放上去，就把旧货物覆盖了！


因此，一个变量无论原来是什么值，只要经过新的一轮赋值，就会变成新值，原值如果没有特意另行存储（比如提前赋给另一个变量），就从此消失无踪了。


  



![img](https://pic1.zhimg.com/v2-8c61d7668a643cb04c9110856ae85aec.webp)

常量
--


### 「不变的变量」


所谓常量，就是把数据值和一个标识符绑定，一旦这种关系被建立，就不再被修改。


我们可以把**常量**理解成就是**值不能被更新的变量**——这话说得有点像「孙女就是女孙子「，理解意思就好。


  



![img](https://pic3.zhimg.com/v2-f25da0aa94de1488a4ca27d0ab34477d.webp)

### 常量的定义


常量也是由标识符和数据值组成的。


在很多高级语言中都会提供常量的关键字用来定义常量，如 C 中的 const，Java 中的 final 等。这样的关键字用来修饰标识符，因此成为修饰符。


被常量修饰符修饰过的标识符，一般都要求被立刻赋值，而且一旦赋值后，就无法再更新其数据值。


但是 Python 语言就不存在这样的修饰符，所以也可以说***在语法上，Python 不存在常量***。


当 Python 程序员特别需要用到常量的时候，有一些 work around，能够用一些办法替代常量修饰符的作用，这些当我们遇到的时候再说。


备案号:YX01GZ4p4kmLPAmJG


###### 2019-10-24 07:29
