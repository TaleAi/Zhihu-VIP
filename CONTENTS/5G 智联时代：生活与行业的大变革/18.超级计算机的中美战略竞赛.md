## 18.超级计算机的中美战略竞赛
通过之前的学习，我们知道了日本的半导体产业如何美国和韩国的夹攻下被摧毁。


本节课我们将从中美在超级计算机领域竞赛情况做出对比。中国在哪些方面让美国警觉万分呢？中国还能从哪些方面赶超美国呢？通过本节课的学习将解开你的疑惑。


一、超级计算机至关重要


超级计算对人工智能的发展至关重要。是因为人工智能对大数据进行深度学习，必须有足够强大的计算能力做支撑。


深度学习需要史无前例的大数据计算。一辆自动驾驶汽车上就要安装上百个传感器，包括视频图片等等。每 500 辆这样的汽车跑一年，所产生的数据，就相当于整个人类文明在 2015 年产生的全部数据量。


对这些数据进行深度的机器学习，需要的计算能力就更是天量。5G 技术已经可以为这样的数据量传输提供保障了，而超级计算技术还远远跟不上。


当前，中国最先进的「神威·太湖一号」的峰值计算速度是每秒 12.5 亿亿次/秒。然而，仅一家人工智能公司——商汤科技，为了满足自己业务的需要，就投资建一个私有的超级计算平台，峰值计算为每秒 16 亿亿次。


也就是说，「神威·太湖一号」的计算能力，现在连一家初创型人工智能公司的需求都满足不了。


中国现在的超算综合实力，是世界领先的，但跟人工智能时代的计算需求比起来，仍然只是沧海一粟，给「5G+人工智能+物联网」产业塞牙缝都不够。


在量子计算机技术没有突破之前，E 级超算，也就是每秒一百亿亿次以上的超级计算机，将成为人工智能企业的标准配置。


在超级计算领域跟中国常年激烈竞争的美国，也同样意识到了这一点，正在集中国家和商业界的一切资源投入到超级计算的研发和建设当中。


2019 年 3 月 19 日，英特尔宣布将与高性能厂商克雷在美国能源部下属的阿贡国家实验室建造一台每秒可进行一百亿亿次运算的 E 级超算，专为人工智能设计。


5 月 18 日，AMD 也跟进宣布同样要在美国能源部橡树岭实验室建造一台一百五十亿亿次的超算。


超级计算机的核心技术主要是两个：超算芯片和超算构架。芯片是基础，但要把数万个芯片连接起来，对数据分配和数据传输技术要求极高，基于高速数据传输网络的超算构架才是核心。


构架能力决定了一台超算能够集成的芯片数量。构架能力如果上不去，芯片堆得越多，使用效率越低。超过一定数量以后，堆更多的芯片就只能增加能耗而无法提高计算能力。


也可以说，芯片，是超大规模集成电路；超算，就是超大规模集成芯片。除了构架技术以外，超算的操作系统、电源、散热等技术也很有很高的技术难度。


二、中国超级计算机发展史


在中国超算的发展历史上，上世纪 80 年代初的一件事经常被提起：当时，中国石油工业部物探局重金购买了一台 IBM 大型机，但机器要放在不得随便入内的玻璃房子里，方便美国 24 小时监控，监控日志要定期交美国审查，计算机的启动密码和机房钥匙也由美国控制。因为美国要防备中国将超算用于导弹航天等军工领域。那种经历是非常屈辱的。


「玻璃房子」的故事激励了整整一代中国计算机科研人员，不计报酬的投身于研发工作，也让国家加大了在超算领域的投入。


美国做出第一台电子计算机是 1946 年，中国是 1958 年，落后了 12 年。


美国研发出 1 亿次超算的时间是 1976 年，中国在 1983 年才实现，落后了大概七年。


2005 年，中国超算机突破 10 万亿次/秒；2010 年，「天河一号 A」代表中国第一次登上了全球超级计算机榜首。经过 52 年的追赶，从落后美国 12 年变成了并驾齐驱。


天河一号只当了半年老大就被美国反超了。但是到了 2013 年，「天河二号」再次登上世界超算榜首，长期力压美国的「泰坦」占据了榜首的位置达三年之久。


在天河二号连续当了两年第一之后，美国政府终于坐不住了。2015 年，美国总统奥巴马宣布对中国超算禁运英特尔的「至强」芯片。这是天河二号使用的计算核心。


长期以来，国内国外大多数关注全球超算排名的人都认为，中国主要是依靠美国的芯片把超算「堆出来」的，离开了美国的芯片，中国超算就没办法发展了。美国人显然也是这样的看法。


2016 年，天河二号果然丢掉了超算全球第一的宝座，取代它的是中国使用国产申威芯片做出来的「神威·太湖一号」超级计算机。


当时，英特尔的至强高端芯片——根据型号不同——售价大概在七八千到一两万元不等，天河二号用了 48000 片至强 Xeon Phi，还有 32000 片至强 E5，意味着光买美国的处理器就要花大概七八亿元。


在单片计算性能上，申威芯片落后英特尔两代，但体系更小、功耗更低。国产芯片在体系和功耗方面的优势，跟其长期在军工和重工业的应用场景密不可分。


我们前面举的北斗导航和中石油钻头的应用场景，都对芯片的体积和功耗有十分苛刻的需求。这样，尽管国产的申威芯片在单片计算力上偏弱，但因为体系小，而且功耗低（低功耗意味着散热空间可以更小），最后 4 万多个单片组装起来，单位计算能力的平均体积竟然还低于用英特尔的芯片。


单位空间内计算能力更强，还有一个原因，就是国产芯片是专门针对国产超算的需求设计制造的，芯片设计与超算构架的两个团队可以无缝对接，让超算框架更加优化。


从这个角度来说，我们应该感谢奥巴马总统、感谢美国的封锁。一纸封锁就让我们一下省了七八个亿。一个中国工人或白领辛苦工作一个月，上交的个人所得税一般不会不超过 400 块钱。


如果没有美国的封锁，我们两百多万个中国普通劳动者工作一个月创造的税收，就会被拿去给英特尔公司当研发经费，发展美国的芯片技术；封锁以后，我们就可以用来给国产芯片研发制造提供经费，推动国产芯片产业的发展。


此后中国超级计算所需的芯片，就全都走上了采用国产芯片的道路，省下的钱就更多了。


三、美国的疯狂封锁


在中国大踏步前进的时候，美国也没闲着。


2018 年 6 月，美国 IBM 公司在橡树岭国家实验室发布「顶点」超级计算机，峰值计算速度达到每秒 20 亿亿次，比神威的峰值性能高出 60%，成为世界第一超算。也让美国在时隔五年之后从中国手中夺回了超算世界第一的交椅。


这次超越的不算太多。作为晚了两年才发布的新超算，60% 并不是一个很理想的成绩。神威发布的时候，比第二名天河二号的峰值性能增长了 200%。天河二号发布的时候，也比当时的第二名——美国「泰坦」计算机快了接近 100%。


真正的交锋将在 2020 年到来，因为国防科大的「天河三号」计划在 2020 年发布，很有可能成为全世界第一台 E 级超算，达到 100 亿亿次。一旦发布，速度就将比「顶点」高出 400%。


而江南计算所也计划在 2021 年发布每秒 150 亿亿次的神威二号。另外，中科院下属的中科曙光，也立项研制 E 级超算。中美两大超算强国即将在 E 级超算领域展开新一轮激烈竞争。


这种竞争总体来看是良性的，对中国有好处对美国也有好处，有利于全人类计算技术的共同进步。


在 E 级超算竞争中，目前中国处于略微领先的地位。2018 年初，「天河三号」的验证机已经交付通过技术验证；2018 年 9 月，神威 E 级原型机也在国家超级计算济南中心正式启用；10 月，中科曙光的 E 级原型机也完成了交付。


原型机就是按照 E 级技术构架进行小规模搭建的小超算，用来验证构架方案的技术可行性。原型机能通过验证，后边的目标一般来说就可以按进度完成了。中国 E 级超算「三头并进」的态势看起来比较顺利。


三大原型机的处理器、网络芯片组、存储和管理系统等核心器件全部为国产化。


——美国一封锁，就封锁出来这么个结果。这个结果也告诉我们：面对这一轮美国无理发起的贸易战，我们实在是没有必要过度担忧。


在超算综合实力方面，中国是做得最好的。2018 年下半年的全球超算榜单中，中国入围全球性能前 500 名的超算继续增加，总数已有 227 台，占据全部 TOP500 超算的 45% 份额；而美国入围的超算数量继续下降，目前只有 109 台了。


目前推动超算产业化的有三大国产品牌：联想、曙光、浪潮。在 500 强榜单的制造商排名中，中国企业垄断了前三名：联想、浪潮和曙光。


这三家公司分别交付了 173、71 与 63 台 Top500 超级计算机。还有华为制造了 14 台，位列第八名。华为进名单的超算不多，但自主程度在四家商业化企业中是最高的。


2019 年 10 月，华为公司研发的超级计算机在沈阳投入使用，这里边的芯片、电源、数据库、操作系统、通讯组网设备都全部都由华为公司自主研发，其算力大概处在全球超算 300 名左右的水平。


中国在超算领域积累的强大研发与制造实力，为中国在「5G+人工智能深度学习+物联网」时代的产业革命中居于领先地位提供了重要的支持。


当然，这种实力距离满足新一轮产业革命的需求还差的很远，仍然需要政府和企业持续大规模的战略性投入。由于人工智能在企业和城市中的广泛应用前景，可以预计，超级计算中心必将成为智慧城市和人工智能类企业的「标准配置」。


E 级甚至更高等级的超算，以后很有可能会每个城市都要至少建一个、每个人工智能企业都要建一个。这会创造数以千亿记的投资和研发投入，仅此一个应用场景，就足以支撑起中国发展出多家世界级的芯片制造企业。


四、今日总结


今天，我们学习了中国在超算领域的发展，也了解了美国对我国的堵截。但在 E 级超算竞争中，目前中国处于略微领先的地位。


下节课，我们将从云计算技术讲起，电脑领域巨头微软公司为什么没有抓住移动互联网兴起的机遇？下节课我们将详细介绍。


备案号:YX01k4QV83A5a2zyb

