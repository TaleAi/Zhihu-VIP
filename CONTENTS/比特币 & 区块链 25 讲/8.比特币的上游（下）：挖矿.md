## 8.比特币的上游（下）：挖矿
上一节课里，我给你讲了矿机和矿工，你知道了矿机的发展史及如何挑选矿机。这节课，我们一起来聊聊矿场和矿池，通过这节课的学习，你将会了解到如何去运营矿场，运营矿池需要准备什么，以及如何与矿池来合作。


一个矿场的成本有：建设成本、设备成本、维护成本、网络成本、还有其他的成本。维护成本包括电力成本和人力成本，这两个费用不同的时候，成本差距非常大。这也就是为什么矿场会选择建在电费相对比较便宜并且比较稳定的地方的原因。因为矿机一旦运行之后，就是 24 小时在工作，所以拥有一支 7×24 小时换班的团队，也是必要的条件。


现在，随着矿场的专业化，一个矿场如何设计，包括水冷、风冷、电路设计的优劣都非常影响后期矿场的维护和成本还有收益。早期的矿场运营比较粗放，就是搭一个架子，然后把矿机放上去，就可以开始运营了。后来发现这种运行方式是不行的，矿机损坏率严重，维修成本太高了。后来开始有了通风、还有隔尘等方案，再往后发展，就有了有室内温度和湿度的严格控制。现在整个矿场的运营方案还在不断升级和进化。因为矿机运行起来噪音比较大，一台矿机运转时，在一米处测试噪音达 73dB(a) 左右，几千台矿机运转起来的时候对周围的影响可想而知，所以有些地方经过设计和装修改造，还出现了静音矿场。


运营矿场也有风险，包括政策上的风险、技术上的风险，还有前期的投入等等，这都是不小的金额。一台比特币矿机的回本周期，根据币价的不同，还有算力变化的不同，大概为 200-300 天之间。再加上后期维护等成本，投资一家比特币矿场，需要有非常好的抗风险能力。


说完了矿场，再来说说矿池。相比较矿场，估计你对矿池更好奇，那到底什么是矿池呢？矿池就是算力的集合。最早，比特币世界里没有矿池这个角色的。矿工们自己进行计算，自己进行交易信息的打包。随着加入挖矿的人越来越多、算力越来越大，单个矿工能够挖到比特币的概率就越来越小，但其实更重要的是这种靠概率的收益越来越不稳定。一个普通的矿工，一个普通的矿场，可能一个月才能挖到一个区块。这对于矿工来说，资金的风险就很大。于是有人就想，我能不能把大家的算力都集中起来一起挖矿，能够挖到区块的概率就会大大增加，然后我把区块奖励再发给大家。于是就有了矿池。矿机负责进行哈希运算，矿池负责交易信息打包。也就是说，算力竞争和记账这两个动作由矿机和矿池分别进行。


那么，矿池怎么说服矿工把TA自己矿机的算力接入的呢？这里我给你介绍下矿池的两种主流合作模式：PPS 和 PPLNS。PPS 模式（Pay-Per-Share）是根据你的算力在矿池中的算力占比，给你每天基本固定的收益，注意这里是固定的收益。假设你的算力是 1T，而整个矿池的算力是 100T，那么你就占据了矿池算力的 1%。然后，矿池根据当前的挖矿的难度和全球总算力的总和，估算出矿池一天大约能够挖到 4 个区块，注意这里是估算，并不是一定能挖到 4 个区块。而每个区块的奖励可以获得 12.5 个比特币。那么，矿池一天就能够获得 50 个比特币。那么，矿池会为你每天支付 50×1%，也就是 0.5 个比特币的报酬。这样，即使矿池今天只挖到了 1 个区块，你也是获得 0.5 个比特币，这是由矿池支付给你的。但如果矿池运气好，挖到了 10 个区块，你还是只有 0.5 个比特币的收益，这时候就是矿池较赚了。但是从长期来看，你和矿池基本都是平衡的。


PPLNS 模式（Pay Per Last N Shares）的意思是「根据过去的 N 个股份来支付收益」，这意味着，所有的矿工一旦挖出了一个区块，大家将根据每一个人股份，也就是自己贡献的算力数量占比来分配区块中的新生比特币。那它和前面讲的PPS模式有什么区别呢？PPS 模式下，比特币分红由矿池提前支付给矿工，所以只要矿工的矿机速度稳定，每天得到的比特币数量就会非常稳定，可以称之为固定投入固定收益模式。而 PPLNS 模式下，是固定投入动态收益的模式。固定时间内获得比特币多少，带有一定的运气成份。如果矿池一天能够挖出很多个区块，比它理论上能挖出的多，那么矿工能够分得比特币就多。如何矿池挖出的区块，比它理论上值少，那么矿工在这段时间获得收益就会非常少。如果矿池运行非常不好，很长时间都没有挖出区块，那么这段时间矿工就可能没有收益。


回到我们的主题，挖矿。如果你想成为一名在矿场进行维护的矿工，其实也比较简单。会基本的机械维修，看得懂电路板，基本上就能够胜任了。矿工的生活比较简单，因为通常在比较偏远的地方。所以，你就需能耐得住寂寞、懂得技术的宅男们，可能比较合适这份工作。


好了，第六、第七两节课，我给你讲了比特币行业的上游是什么样子。包括矿机、矿工、矿场和矿池，想必你也有了大致的了解。我们来一起总结一下：


* 矿场在逐步的专业化，并且回报周期较长，需要一定的抗风险能力，于是把大家的算力集中起来，便有了矿池；
* 矿池的主要合作模式包括两种：PPS 和 PPLNS，PPS 也就是固定投入固定收益的模式，是矿池预选支付费用给各个矿工；PPLNS 是固定投入动态收益的方式，根据每个人的算力所在的股份，根据运气的好坏，动态获得收入；

其他数字资产的上游，也和比特币差不多，有的刚刚有了矿机，有的刚刚有了矿池，都还处在发展阶段。


思考：如果你是一个矿工，你会选择以哪种方式和矿场合作呢？除了 PPS 和
 PPLNS，你还能想到其他合作方式吗？

