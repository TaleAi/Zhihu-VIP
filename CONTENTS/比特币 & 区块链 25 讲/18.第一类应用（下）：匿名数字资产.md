## 18.第一类应用（下）：匿名数字资产
密码学最早应用于军事领域，后来开始民用。密码学专家们认为人的个人隐私应该受到保护。举个例子，我们住酒店，酒店会要求你出示身份证，你就会把身份证直接拿给酒店的前台。这是一件看起来似乎很正常的事情。但是，对自己的隐私非常看重的人会觉得非常不舒服：我住酒店而已，你作为前台的工作人员，只需要检查我是不是合法公民，有没有被警方追查、会不会危险社会安全就可以了。但是我出示我的身份证给你看，你能知道我所有的身份信息了，包括我的出生年月日、我的身份证号码、出生地籍贯等等。你知道了我这些非常重要的信息，对我的信息安全会造成隐患。而这些信息又不是你要办理入住所需要的。所以有的人提出，酒店这样的机构只需要接入身份信息的接口，验证我是不是合法公民，有没有被警方追查等等，得到这个结果即可，而不需要知道我的详细身份信息。即前台匿名，在后台可控实名即可。


那么，对于支付这件事，有的人也不希望别人知道自己支付给了谁。这样的需求就诞生了相应的匿名资产区块链项目，就是我们今天要聊的匿名数字资产。


你可能会问：比特币不就是匿名的吗？没错，比特币是匿名的，比特币的区块链网络公开透明的，我们能看到每一笔转账的详细信息，包括哪些地址转到了哪些地址，找零又找回到什么地方。比特币的匿名是由地址没有和现实中的身份信息对应起来保障的。就是你知道这个地址的所有信息，包括它的转账记录，而不知道这个地址背后是谁。但是，一旦地址和身份信息对应起来，这个地址上的所有交易信息就都会变成实名的了。比如你在火币网、Bitfinex等场内交易平台进行注册，你去交易，充了钱、充了币进来的时候，你就能知道这个地址背后对应的人是谁了。你在钱包上进行注册，也会留下邮箱或手机号，这样也能够查的到。


那么要做到更加匿名，有没有别的办法呢？答案是有的。达世币、门罗币、Zcash、PIVX 等区块链项目就能够帮你去解决这个问题。


达世币（Dash）诞生于 2014 年 1 月 18 日，它是一款支持即时交易、以保护用户隐私为目的数字资产。达世币匿名程度较比特币更高，交易无法被追踪和查询，对于不想暴露交易记录和财政隐私的用户是一种选择。


达世币的转账有三种方式可以选择:


* 一是普通转账，跟比特币一样，没有区别；
* 二是及时交易，就是不需要矿工打包确认，就可以确认交易，解决了比特币需要10分钟打包确认的劣势；
* 三是它可以做到匿名交易，即从网络上看不到是谁和谁进行了匿名转账。

达世币的匿名交易是怎么回事呢？达世币中除了有和比特币网络一样的节点之外，还有一种叫「主节点」的节点。主节点和其他节点不一样的地方在于，主节点可以提供一系列其他的服务。包括为社区提供投票服务，以及为交易者提供匿名交易和及时服务。想进行匿名交易的交易者发起匿名申请，由主节点进行混币。所谓混币，就是把属于不同人的币混在一起，再换回去。混币为免费服务。通过混币，网络就不知道你究竟转账给了谁，谁究竟转账给了你。达世币的主节点进行混币，这就是达世币实现匿名性的这个特性。达世币的混币一般是3笔一起进行。我们来举一个例子去说下达达世币的混币，就好比一桌人把自己的钱都放在桌上，混在一起，去混一混，然后再分别拿回自己面值的钱币，这样就不知道你手里的钱到底是谁的了，虽然额度是一样的，但是它的来源已经不清楚了，这个混币有时候要经过好几轮，才混的比较充分。


接下来，我们还是要说下达世币技术参数。它的开发者叫埃文·杜菲尔德（Evan Duffield ），它的核心算法为其首创的 X11 算法。X11 算法是什么意思呢？就是 11 种加密算法混合在一起的算法。比如有比特币的 SHA256、莱特币的 Scrypt 等等。研发者设计这样算法是什么目的呢？研发者要进行这样的设计，其实是为了延长专门矿机诞生的时间，留出更多时间让普通的大众也能参与进来。目前专门的达世币矿机已经研发出来了。达世币矿机刚面世时，约 1 个月收回成本。现在的价格也不菲。你如果有兴趣，可以搜索看一看。达世币发布时间为 2014 年 1 月 18 日；它的发行总量为 2200 万；它的共识证明为 PoW+PoSE 混合挖矿机制；区块时间为 2.5 分钟；区块奖励是
 3.6 达世币；截至 2017 年 9 月已发行量为 758 万。达世币的主要特色有匿名属性、11 种加密算法、双重共识机制。它的不足之处在于，目前它的技术门槛较高，不适合普通人使用，它采用 PoW+PoSE 混合机制易产生冲突，可能出现机制不稳定的风险。


说完达世币，下面我们来说下一种匿名数字资产，叫门罗币（Monero），与其他数字资产不同，门罗币是通过环形签名的方式提供更好的匿名性。关于环形签名下面给你仔细说。我们刚才了解到，达世币是可以选择是否用匿名交易的，但是门罗币从 2017 年新的版本开始不提供这样的选择，而是全网所有的交易均为匿名交易。他们认为，在一个网络中，大部分人不匿名，少部分人匿名，其实起不到保护隐私的作用。所以门罗币这种匿名技术在国内宣传较少，国外知名度较高。门罗币满足电子现金的三个重要属性，去中心化、隐私性、数字化。


门罗币技术参数我们也看一下。开发者目前资料比较少，和比特币一样开发出来后就消失在大众视线里了；它的核心算法为 CryptoNote 算法，这是一种抵制专门挖矿机的产生而专门设计的算法，它的目的也是延长专门矿机问世的时间，从而让更多的大众有机会进入门罗币这样一个网络里。门罗币的发布时间为 2014 年 4 月 18 日，比达世币晚了三个月；它的发行总量为 1844 万；区块时间为 60 秒；每个区块奖励为 7.8 门罗币；到 2017 年 9 月已发行量为 1515 万；它的共识机制为 PoW。


门罗币的区块大小是不限定的，所以它不存在和比特币一样的扩容风险。它的主要特色为一次性环形签名。环形签名是什么意思呢？我们之前学习过，比特币的转账是非对称加密技术，一个信息的加密和解密分别由公钥和私钥进行。在门罗币的区块链网络里面，网络首先将签名者的公钥和另外一个公钥集合进行一起混合，然后对消息进行签名，使得外界无法区分集合中哪个公钥对应真正的签名者。这个很像我们古代联名上书的时候，为了不暴露哪一个是发起人，所以不采取常用的先后签名方式，而是所有人签名形成一个环状，这样就不知道谁是发起者了，所以这就是环形签名的来源。门罗币的区块链甚至可以做到让发送币的人不知道币打给了哪个地址、接受币的人仅打开钱包也不知道是谁打来的币。门罗币的技术细节和比特币有较大不同，在这里就不细讲，如果你有兴趣，可以上 GitHub 查看门罗币的代码讨论。


下面要给你介绍的第三种数字货币资产 Zcash（全称为 ZeroCash，中文叫零币）。Zcash 诞生于 2011 年 11 月 9 日，是一个比较早的数字货币资产。是首个使用**「零知识证明」**机制，零知识证明是指证明者能够在不向验证者提供任何有用的信息的情况下，使验证者相信某个论断是正确的。比方说A要向B证明自己拥有某个房间的钥匙，B来确定该房间内有某一物体，A用自己拥有的钥匙打开该房间的门，然后把物体拿出来出示给B，从而证明自己确实拥有该房间的钥匙。而不是直接将钥匙拿给B看，这种方法属于零知识证明。


Zcash 就是使用零知识证明的区块链系统，它可提供完全的支付保密性。Zcash 灵感来源于比特币，它的大部分代码也与比特币极其相似，例如它的总量是 2100 万枚，它的减半机制是 4 年减半。Zcash 进一步完善了比特币匿名功能方面的不足。


Zcash 的技术参数是这样的：它的研发者为朱寇·威尔考克斯（Zooko Wilcox），核心算法为 Equihash；发布时间为 2016 年 10 月，发行时曾引起密码学和数字货币界的轰动，导致其价格一度飙升。Zcash 的总量是 2100
 万；共识证明为 PoW，但前 4 年 20% 所得自动分配给 Zcash 团队和投资者；区块出块时间为 2.5 分钟；区块奖励为 12.5 枚 Zcash；它的减半时间为
 4 年；到 2017 年 9 月已发行量为 230 万。Zcash 的主要特色为零知识证明机制。


Zcash 是一个受关注的区块链资产，但也有不足之处。目前 Zcash 的系统还不稳定，技术风险比较大，仅在 2016 年 11 月，Zcash 就出现 7 个漏洞；目前匿名转账的时间周期比较长，大概需要 20 分钟；网络可以选择普通转账和匿名转账，对隐私保护级别有所影响。


接下来要介绍的匿名数字货币资产是 PIVX (Private Instant Verified Transaction)，直译成中文为「私密即时验证交易」，也有人音译为「普维币」。这个区块链项目相对比较年轻，它采用了各家匿名数字资产区块链项目的长处，诞生于 2016 年 2 月 1 日，在匿名性方面和达世币非常相似。PIVX
 的运行基于 Bitcoin core 0.10.x 代码库，致力于实现近乎即时的私人支付交易，为所有使用者带来便利。PIVX 和达世币一样，采用主节点，锁定 1 万个
 PIVX 可以成为主节点。主节点的功能和达世币的主节点功能基本类似，进行即时支付的确认、混币和社区投票。不过主节点的收益为动态调整，这和达世币的 45% 固定收益不一样。PIVX 计划将投票权下放，不是主节点来参与投票，而是让更广泛的普通的代币持有者也能拥有投票权，参与到社区的发展中来。


PIVX 技术参数是这样的。它的核心算法为**「夸克算法」**，这是一种轻量级的哈希算法；发布时间为 2016 年 2 月 1 日，发行总量目前没上限；它的共识机制在诞生 6 个月后由 PoW 转为类似达世币的 PoSE（服务量证明机制）；区块时间为 60 秒；区块奖励为 4.32 PIVX；到 2017 年 9 月已发行量为 5439 万枚。


PIVX 的主要特色为匿名属性和及时支付，这个和达世币非常的类似。不足之处在于它的代码创新不够，主要的代码都来源于现有的比特币、达世币和 Zcash；另外还有一个巨大的风险就是它的总量是无限的，存在通货膨胀风险。另外，由 PoW 转 PoS E，也存在后期技术不兼容的风险。


好了，我们来总结一下今天的课程。这节课我们学习了匿名数字资产，了解了达世币、门罗币、Zcash、PIVX 这四种匿名性数字资产的故事。这节课信息量非常大，很烧脑，我们回顾一下今天我们讲的这些的知识点：


我们首先学习了为什么会诞生匿名数字资产？根本原因是人们希望在进行支付交易时，个人隐私能够得到保护。为了彻底保证用户的个人隐私，市场就产生了相应的区块链项目，也就是「匿名数字资产」。


之后介绍了四种「匿名数字资产」，分别是达世币、门罗币、Zcash 和
 PIVX，我们来一一复习它们的知识点;


* 达世币的匿名程度较比特币更高，它的匿名交易无法被追踪查询，背后的原理是一个名叫「混币」的机制，把属于不同的人的币混在一起，再换回去，这样网络就不知道你究竟转账给谁、谁究竟转账给你了。
* 门罗币通过「环形签名」的机制来实现交易的匿名性的。比特币的转账是非对称加密技术，加密、解密分别由公钥和私钥进行。在门罗币的区块链网络里面，网络首先将签名者的公钥和另外一个公钥集合混合在一起，然后对消息进行签名，这样外人无法区分哪个公钥对应真正的签名者。在消息签名环节，门罗币为了不暴露发起人，所以不采取常用的先后签名方式，而是将所有人签名形成一个环状，这样就不知道发起人是谁了。
* Zcash 采用「零知识证明」机制来保证匿名性，「零知识证明」机制可以用这样一个例子来表达，A 要向 B 证明自己拥有某个房间的钥匙，如果B知道该房间内有一个花瓶，那么A用钥匙打开房门后，把花瓶拿出给B看，就可以证明自己确实拥有这个房间的钥匙，而不是把钥匙直接拿给B看，这种方法就是 Zcash 的匿名机制。
* 最后介绍的是 PIVX，它的匿名机制和达世币的「混币」机制很相似，都是交易时把不同的人的币混在一起、然后换回去的方式来保证交易的匿名性。

今天的课程，建议你可以多听几遍，如果很感兴趣，可以记下来这些名词然后查找资料。


最后请思考：上学的时候我们通常很害羞。毕业之际终于有机会拥抱同学。你为了拥抱到那个心爱的姑娘，把班上所有的同学都抱了一遍。这个隐藏心意的方法，比较像我刚才说的匿名数字资产的哪一种呢？是达世币、门罗币、Zcash，还是 PIVX 呢？

